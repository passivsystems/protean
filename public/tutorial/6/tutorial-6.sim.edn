(ns protean.tutorial6
  (:require [me.rossputin.diskops :as dk]
            [protean.api.transformation.sim :refer :all]))

(defn param2rsp [data-path]
  (if-let [rsp (dk/file-with-path data-path (path-param "stateId") ".json")]
    (slurp rsp)
    (respond 404)))

{
  "tutorial-6" {
    "play/${stateId}" {
      :get [#(param2rsp "public/tutorial/6")]
    }
  }
}
